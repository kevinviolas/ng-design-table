!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/common"),require("@angular/material/sort"),require("@angular/material/paginator"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/collections"),require("@angular/animations"),require("@angular/router"),require("@angular/material/table"),require("@angular/material/tooltip"),require("@angular/material/icon"),require("@angular/material/badge")):"function"==typeof define&&define.amd?define("table",["exports","@angular/core","@angular/common","@angular/material/sort","@angular/material/paginator","rxjs","rxjs/operators","@angular/cdk/collections","@angular/animations","@angular/router","@angular/material/table","@angular/material/tooltip","@angular/material/icon","@angular/material/badge"],n):n((t=t||self).table={},t.ng.core,t.ng.common,t.ng.material.sort,t.ng.material.paginator,t.rxjs,t.rxjs.operators,t.ng.cdk.collections,t.ng.animations,t.ng.router,t.ng.material.table,t.ng.material.tooltip,t.ng.material.icon,t.ng.material.badge)}(this,(function(t,n,e,i,a,o,r,s,l,p,c,u,d,g){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var m=function(t,n){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function h(t,n,e,i){var a,o=arguments.length,r=o<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(o<3?a(r):o>3?a(n,e,r):a(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r}function y(t,n){return function(e,i){n(e,i,t)}}function f(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}function v(t,n,e,i){return new(e||(e=Promise))((function(a,o){function r(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,s)}l((i=i.apply(t,n||[])).next())}))}function x(t,n){var e,i,a,o,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(6===o[0]&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(t,r)}catch(t){o=[6,t],i=0}finally{e=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function w(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var i,a,o=e.call(t),r=[];try{for(;(void 0===n||n-- >0)&&!(i=o.next()).done;)r.push(i.value)}catch(t){a={error:t}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(a)throw a.error}}return r}var C,I=function(){function t(t){this.settingConfig=t,this.config=t}return t.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:["__NgxDesignTable__"]}]}]},t.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject("__NgxDesignTable__"))},token:t,providedIn:"root"}),t=h([n.Injectable({providedIn:"root"}),y(0,n.Inject("__NgxDesignTable__")),f("design:paramtypes",[Object])],t)}(),S=function(){function t(t,n){this.changeDetectorRefs=t,this.service=n}return t.prototype.ngOnInit=function(){var t,n,e=this.service.settingConfig.customerRank||["gold","silver","bronze","default"];if(this.type){this._type=(this.type||"").replace(/[^A-Z0-9]+/gi,"");try{for(var i=w(e),a=i.next();!a.done;a=i.next()){var o=a.value;"default"===this._type.toLocaleLowerCase()?(this.type="Classic".toUpperCase(),this.typeClass=o.toLocaleLowerCase()):this._type.toLocaleLowerCase()===o.toLocaleLowerCase()&&(this.typeClass=o.toLocaleLowerCase(),this.type=this.type.toUpperCase())}}catch(n){t={error:n}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}else this.type="Classic".toUpperCase(),this.typeClass="default"},t.prototype.ngOnChanges=function(t){this.ngOnInit()},t.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:I}]},h([n.Input(),f("design:type",String)],t.prototype,"type",void 0),t=h([n.Component({selector:"app-customer-rank",template:'<span [class]="typeClass" matTooltip="Contrat de type : {{type}}">\n  <span style="color:black">{{type}}</span><mat-icon *ngIf="type !== \'CLASSIC\'">star_rate</mat-icon>\n</span>\n',styles:[".gold{font-size:12px;font-weight:700;color:gold!important}.silver{font-size:12px;font-weight:700;color:silver!important}.bronze{font-weight:700;font-size:12px;color:#cd7f32!important}.default{font-weight:700;font-size:12px;color:#000!important}"]}),f("design:paramtypes",[n.ChangeDetectorRef,I])],t)}(),k=function(){function t(){this.timezone="fr"}return t.prototype.ngOnInit=function(){},t.prototype.run=function(t){if(t){var n=t.split(" ");return'<span class="time-badge">\n                    <span class="hour">'+n[0]+'</span>\n                    <span class="minute">'+n[1]+"</span>\n                </span>"}return'<span class="time-badge">\n                    <span class="hour">-</span>\n                    <span class="minute"></span>\n                </span>'},t.prototype.ngOnChanges=function(t){},h([n.Input(),f("design:type",String)],t.prototype,"date",void 0),h([n.Input(),f("design:type",String)],t.prototype,"timezone",void 0),t=h([n.Component({selector:"date-format",template:"<span matTooltip=\"{{(date| date : 'short' : timezone)}}\" [innerHTML]=\"run((date| date : 'short' : timezone))\"></span>\n",styles:["span.time-badge{display:block;text-align:center!important;padding-right:25px}span.time-badge .hour{display:block;font-weight:900;font-size:12px}span.time-badge .minute{display:block;font-weight:300;font-size:10px}"]}),f("design:paramtypes",[])],t)}(),z=function(){function t(t,n){this.changeDetectorRefs=t,this.service=n,this.css={},this.css.maxWidth=String(this.size||22)+"px",this.css.maxHeight=String(this.size||22)+"px"}return t.prototype.ngOnInit=function(){this.css.maxWidth=String(this.size||22)+"px",this.css.maxHeight=String(this.size||22)+"px";var t=this.service.settingConfig.equipmentStatus,n=(this.type||"").toLocaleLowerCase().replace(/[^A-Z0-9]+/gi,"");t[n]?this.icon=t[n]:this.icon=t.default,this.changeDetectorRefs.detectChanges()},t.prototype.ngOnChanges=function(t){this.ngOnInit()},t.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:I}]},h([n.Input(),f("design:type",String)],t.prototype,"type",void 0),h([n.Input(),f("design:type",Object)],t.prototype,"size",void 0),t=h([n.Component({selector:"app-equipement-status",template:'<span [style]="css" matTooltip="{{type}}">\n    <img [src]="icon" [style]="css">\n</span>',styles:[""]}),f("design:paramtypes",[n.ChangeDetectorRef,I])],t)}(),D=function(){function t(t,n){this.changeDetectorRefs=t,this.service=n,this.css={},this.css.maxWidth=String(this.size||40)+"px",this.css.maxHeight=String(this.size||40)+"px"}return t.prototype.ngOnInit=function(){this.css.maxWidth=String(this.size||40)+"px",this.css.maxHeight=String(this.size||40)+"px";var t=this.service.settingConfig.equipmentType,n=(this.type||"").toLocaleLowerCase().replace(/[^A-Z0-9]+/gi,"");this.name.toLocaleLowerCase().includes("srv");t[n]?this.icon=t[n]:this.icon=t.default},t.prototype.ngOnChanges=function(t){this.ngOnInit()},t.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:I}]},h([n.Input(),f("design:type",String)],t.prototype,"name",void 0),h([n.Input(),f("design:type",String)],t.prototype,"type",void 0),h([n.Input(),f("design:type",Object)],t.prototype,"size",void 0),t=h([n.Component({selector:"app-equipement-type",template:'<span [style]="css" matTooltip="{{type}}">\n    <img [src]="icon" [style]="css">\n</span>\n',styles:[""]}),f("design:paramtypes",[n.ChangeDetectorRef,I])],t)}(),O=function(){function t(t){this.service=t,this.css={}}return t.prototype.ngOnInit=function(){this.css.maxWidth=String(this.size||40)+"px",this.css.maxHeight=String(this.size||40)+"px";var t=this.service.settingConfig.gender,n=(this.type||"").toLocaleLowerCase().replace(/[^A-Z0-9]+/gi,"");t[n]?this.icon=t[n]:(this.css.maxWidth=String((this.size||40)-10)+"px",this.css.maxHeight=String((this.size||40)-10)+"px",this.icon=t.none)},t.prototype.ngOnChanges=function(t){this.ngOnInit()},t.ctorParameters=function(){return[{type:I}]},h([n.Input(),f("design:type",String)],t.prototype,"type",void 0),h([n.Input(),f("design:type",Number)],t.prototype,"size",void 0),t=h([n.Component({selector:"app-gender",template:'<span [style]="css" matTooltip="{{type}}">\n    <img [src]="icon" [style]="css">\n</span>\n',styles:[""]}),f("design:paramtypes",[I])],t)}(),E=function(){function t(){this.isIcon=!1}return t.prototype.ngOnInit=function(){this.input&&this.input.indexOf("icon.")>-1?(this.isIcon=!0,this.display=this.input.split(".")[1]):(this.isIcon=!1,this.display=this.input)},h([n.Input(),f("design:type",String)],t.prototype,"input",void 0),t=h([n.Component({selector:"app-is-mat-icon",template:'<ng-container *ngIf="!isIcon">\n    <span >{{display}}</span>\n</ng-container>\n<ng-container  *ngIf="isIcon">\n    <mat-icon>{{display}}</mat-icon>\n</ng-container>',styles:[":host{height:34px;display:flex;padding:auto}:host .mat-icon{display:block;fill:currentColor;text-align:center;width:24px;margin:auto;vertical-align:middle;background:no-repeat}:host i,:host mat-icon{font-size:24px;height:24px}"]}),f("design:paramtypes",[])],t)}(),M=function(){function t(t){this.service=t,this.fontSize="24px",this._padding="4px",this._display="flex",this._borderRadius="50px",this._size="cover",this.afterInit=!1,this.defaultFontSize=12,this.defaultDimension=24}return t.prototype.ngOnInit=function(){if(this.src){Math.random();this.icon.nativeElement.style.backgroundImage=this.service.settingConfig.nameAvatarBackgroundColor,this.icon.nativeElement.style.borderRadius=this._borderRadius,this.icon.nativeElement.style.marginLeft="16px",this.icon.nativeElement.style.display=this._display,this.icon.nativeElement.style.width=this.fontSize,this.icon.nativeElement.style.height=this.fontSize,this.icon.nativeElement.style.fontSize=parseInt(this.fontSize,0)/2+"px",this.icon.nativeElement.style.padding=parseInt(this.icon.nativeElement.style.fontSize,0)/3+"px",this.icon.nativeElement.style.fontWeight="900",this.icon.nativeElement.style.color="white";var t=this.src.split(" ");this.letter=(t[0][0]+(t[1]&&t[1][0]?t[1][0]:t[0][1])).toUpperCase()}else!1===this.afterInit&&(this.afterInit=!0)},t.prototype.ngAfterViewInit=function(){this.afterInit&&this.ngOnInit()},t.prototype.getRatio=function(){},t.ctorParameters=function(){return[{type:I}]},h([n.Input(),f("design:type",String)],t.prototype,"src",void 0),h([n.Input(),f("design:type",Object)],t.prototype,"fontSize",void 0),h([n.ViewChild("avatar",{static:!0}),f("design:type",n.ElementRef)],t.prototype,"icon",void 0),t=h([n.Component({selector:"name-avatar",template:"<div #avatar>\n    {{letter}}\n</div>\n",styles:["div{align-items:center;justify-content:center;padding:0!important}"]}),f("design:paramtypes",[I])],t)}(),T=function(){function t(t){this.service=t}return t.prototype.ngOnInit=function(){var t=this,n=this.service.settingConfig.origin.filter((function(n){return t.icon.includes(n.label)}));this.iconSrc=n&&n.length&&n[0].data?n[0].data:""},t.prototype.ngOnChanges=function(t){this.ngOnInit()},t.ctorParameters=function(){return[{type:I}]},h([n.Input(),f("design:type",String)],t.prototype,"icon",void 0),t=h([n.Component({selector:"icon-origin",template:'<png-icon style="margin : auto; text-align: center" matTooltip="{{this.icon}}" [src]="this.iconSrc"></png-icon>',styles:[""]}),f("design:paramtypes",[I])],t)}(),_=function(){function t(){}return t.prototype.ngOnInit=function(){this.display=this.normalize(this.number)},t.prototype.ngOnChanges=function(t){this.ngOnInit()},t.prototype.normalize=function(t){if(10==(t=(t||"").replace(/[^\d]/g,"")).length)return t.replace(/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/,"(+33) $1.$2.$3.$4.$5");if(t.length>10&&t.length<=13){if(11===t.length&&(t="0"+t),13===t.length&&t.includes("+")){var n=t.slice(0,3),e=t.slice(3,t.length);t=n+"0"+e}return t.replace(/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/,"(+$1) $2.$3.$4.$5.$6")}return null},h([n.Input(),f("design:type",String)],t.prototype,"number",void 0),t=h([n.Component({selector:"app-phone-display",template:"<strong>{{display || '-'}}</strong>\n",styles:[""]}),f("design:paramtypes",[])],t)}(),R=function(){function t(){this.fontSize="24px",this._padding="5px",this._display="inline-flex",this._size="cover"}return t.prototype.ngOnInit=function(){this.src&&(this.icon.nativeElement.style.backgroundImage="url("+this.src+")",this.icon.nativeElement.style.backgroundSize=this._size,this.icon.nativeElement.style.display=this._display,this.icon.nativeElement.style.width=this.fontSize,this.icon.nativeElement.style.height=this.fontSize,this.icon.nativeElement.style.padding=this._padding,this.color&&(this.icon.nativeElement.style.color=this.color))},h([n.Input(),f("design:type",String)],t.prototype,"src",void 0),h([n.Input(),f("design:type",Object)],t.prototype,"fontSize",void 0),h([n.Input(),f("design:type",String)],t.prototype,"color",void 0),h([n.ViewChild("icon",{static:!0}),f("design:type",n.ElementRef)],t.prototype,"icon",void 0),t=h([n.Component({selector:"png-icon",template:"<span #icon>\n\n</span>",styles:[""]}),f("design:paramtypes",[])],t)}(),P=function(){function t(){}return t=h([n.NgModule({declarations:[R],imports:[e.CommonModule],exports:[R]})],t)}(),j=function(){function t(t){this.service=t}return t.prototype.ngOnInit=function(){var t=this,n=this.service.settingConfig.priority.filter((function(n){return t.icon.includes(n.label)}));n&&n.length&&(this.iconSrc=n[0].data)},t.prototype.ngOnChanges=function(t){this.ngOnInit()},t.ctorParameters=function(){return[{type:I}]},h([n.Input(),f("design:type",String)],t.prototype,"icon",void 0),t=h([n.Component({selector:"icon-priority",template:'<png-icon matTooltip="{{this.icon}}" [src]="this.iconSrc"></png-icon>\n',styles:[""]}),f("design:paramtypes",[I])],t)}(),L=function(){function t(t){this.service=t,this.displayNo=!1,this.displayYes=!0,this.css={}}return t.prototype.ngOnInit=function(){this.css.maxWidth=String(this.size||40)+"px",this.css.maxHeight=String(this.size||40)+"px";var t=this.service.settingConfig.yesNo;this.valid&&this.displayYes?this.icon=t.true:this.displayNo&&(this.icon=t.false)},t.prototype.ngOnChanges=function(t){this.ngOnInit()},t.ctorParameters=function(){return[{type:I}]},h([n.Input(),f("design:type",Boolean)],t.prototype,"valid",void 0),h([n.Input(),f("design:type",Boolean)],t.prototype,"displayNo",void 0),h([n.Input(),f("design:type",Boolean)],t.prototype,"displayYes",void 0),h([n.Input(),f("design:type",Object)],t.prototype,"size",void 0),t=h([n.Component({selector:"app-yes-nox",template:'<span [style]="css" >\n    <img [src]="icon" [style]="css">\n</span>\n',styles:[""]}),f("design:paramtypes",[I])],t)}();(C=t.CellsComponentList||(t.CellsComponentList={})).ButtonLink="button-link",C.ButtonClick="button-click",C.Priority="priority",C.Origin="origin",C.NameAvatar="name-avatar",C.DateFormat="date-format",C.CountRow="count-row",C.Gender="gender-avatar",C.Phone="phone-display",C.YesNo="yes-no-display",C.CustomerRank="customer-rank",C.ItCategory="it-category",C.ItStatus="it-status";var q=function(t){function n(n,e,i,a,s){void 0===a&&(a=20),void 0===s&&(s=!0);var l=t.call(this)||this;return l.number=0,l.pageNumber=new o.Subject,l.startWith=0,l.pageSort=new o.Subject,l.pageFilter=new o.Subject,l.pageFilterDate=new o.Subject,l.size=a,l.data=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(b(arguments[n]));return t}(n),l.totalElements=n.length,l.page$=l.pageFilterDate.pipe(r.startWith(i),r.switchMap((function(t){return l.pageFilter.pipe(r.debounceTime(500)).pipe(r.startWith(""),r.switchMap((function(n){return l.pageSort.pipe(r.startWith(e),r.switchMap((function(e){return l.pageNumber.pipe(r.startWith(l.startWith),r.switchMap((function(i){return o.from([{content:l.slice(l.sortData(l.filterData(l.filterDateRange(l.data,t),n),e),i,l.size,s)}])})),r.share())})))})))}))),l}return function(t,n){function e(){this.constructor=t}m(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),n.prototype.filterDateRange=function(t,n){return n.valueStart||n.valueEnd?t.filter((function(t){return n.valueStart&&n.valueEnd?new Date(t[n.active])>=new Date(n.valueStart)&&new Date(t[n.active])<=new Date(n.valueEnd):n.valueStart&&!n.valueEnd?new Date(t[n.active])>=new Date(n.valueStart):!n.valueStart&&n.valueEnd?new Date(t[n.active])<=new Date(n.valueEnd):void 0})):t},n.prototype.ponderation=function(t,n){var e,i,a=t.split(" "),o=0;try{for(var r=w(a),s=r.next();!s.done;s=r.next()){var l=s.value.replace(new RegExp(" ","g"),"");l&&l.includes(n)&&o++}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return o},n.prototype.filterData=function(t,n){var e,i,a,o,r=[];if(n&&n.replace(/[^a-zA-Z ]/g," ")){try{for(var s=w(t),l=s.next();!l.done;l=s.next()){var p=l.value;p.pond=0;var c=JSON.stringify(p).toLowerCase().replace(/[^a-zA-Z0-9 ]/g," "),u=n.toLowerCase().replace(/[^a-zA-Z0-9 ]/g," ").split(" "),d=0;try{for(var g=(a=void 0,w(u)),m=g.next();!m.done;m=g.next()){var h=m.value;if(c.includes(h)){var y=this.ponderation(c,h);p.pond||(p.pond=0),p.pond+=y,d++}}}catch(t){a={error:t}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}p.pond&&d===u.length&&r.push(p)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return r.filter((function(t){return t.pond})).sort((function(t,n){return t>n?1:t<n?-1:0}))}return t},n.prototype.sortData=function(t,n){var e=this;return""!==n.direction?t.sort((function(t,i){return e.compare(t[n.active],i[n.active],"asc"===n.direction)})):t},n.prototype.compare=function(t,n,e){return t||(t=null),n||(n=null),((Array.isArray(t)?t.length:t)>(Array.isArray(n)?n.length:n)?-1:1)*(e?1:-1)},n.prototype.fetch=function(t){this.pageNumber.next(t)},n.prototype.sortIt=function(t){this.pageSort.next(t)},n.prototype.filter=function(t){this.pageFilter.next(t.target.value)},n.prototype.filterDate=function(t){this.pageFilterDate.next(t)},n.prototype.connect=function(){return this.page$.pipe(r.pluck("content"))},n.prototype.disconnect=function(){},n.prototype.slice=function(t,n,e,i){void 0===n&&(n=0),void 0===e&&(e=20),void 0===i&&(i=!0);var a=[];return this.totalElements=t.length,t=t.slice(n*e,n*e+e),i?(t.forEach((function(t){return a.push(t)})),a):t},n}(s.DataSource),N=function(){function t(t,e){this.router=t,this.route=e,this.displayDetail=!1,this.callFunction=new n.EventEmitter,this.filter=[],this.index=0}return t.prototype.ngOnInit=function(){var t=this;if(this.data){this.expandedElement=!1,this.data.paginator=this.paginatorCurrent,this.data.sort=this.sortCurrent,this.data.pageNumber.subscribe((function(n){n>0&&n!==t.data.number?t.router.navigate([],{relativeTo:t.route,queryParams:{page:n+1},queryParamsHandling:"merge"}):0===n&&n!==t.data.number&&t.router.navigate([],{relativeTo:t.route,queryParams:{page:null},queryParamsHandling:"merge"}),t.data.paginator.pageIndex!==n&&(t.data.paginator.pageIndex=n)}));var n=this.route.snapshot.queryParams.page;if(n){var e=Number(n)-1;this.data.startWith=e,this.data.fetch(e),this.data.number=e}this.buildHeaders().catch((function(t){return console.log("Error build table",t)}))}},t.prototype.buildHeaders=function(){return v(this,void 0,void 0,(function(){var t,n,e,i,a,o;return x(this,(function(r){switch(r.label){case 0:return t=this,[4,this.sort()];case 1:if(t.displayedColumns=r.sent(),this.displayedColumns){this.columnsToDisplay=[];try{for(n=w(this.displayedColumns),e=n.next();!e.done;e=n.next())i=e.value,this.columnsToDisplay.push(i.key)}catch(t){a={error:t}}finally{try{e&&!e.done&&(o=n.return)&&o.call(n)}finally{if(a)throw a.error}}}return[2]}}))}))},t.prototype.generateClass=function(t){var n,e,i=["default-table-class"];try{for(var a=w(t),o=a.next();!o.done;o=a.next()){var r=o.value;r&&""!==r&&i.push(r)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(n)throw n.error}}return i},t.prototype.sort=function(){return v(this,void 0,void 0,(function(){var t;return x(this,(function(n){return t=function(t,n){return t.order<n.order?-1:t.order>n.order?1:0},this.columnDefinitions?[2,this.columnDefinitions.sort(t)]:[2]}))}))},t.prototype.buildLink=function(t,n){if(t.length>=2){for(var e=t[0],i=1;i<t.length;i++)e+="/"+n[t[i]];return e}},t.prototype.Join=function(t,n,e){void 0===e&&(e="\n");var i=[];for(var a in t)n.indexOf(a)>-1&&i.push(t[a]);return i.join(e)},t.prototype.reset=function(){return this.data.filter({target:{value:""}}),!0},t.prototype.expandShow=function(t){},t.prototype.ngOnChanges=function(t){this.ngOnInit()},t.ctorParameters=function(){return[{type:p.Router},{type:p.ActivatedRoute}]},h([n.ViewChild("MatPaginatorCurrent",{static:!0}),f("design:type",a.MatPaginator)],t.prototype,"paginatorCurrent",void 0),h([n.ViewChild("table",{static:!0}),f("design:type",i.MatSort)],t.prototype,"sortCurrent",void 0),h([n.Input(),f("design:type",Array)],t.prototype,"columnDefinitions",void 0),h([n.Input(),f("design:type",Boolean)],t.prototype,"displayDetail",void 0),h([n.Input(),f("design:type",String)],t.prototype,"displayComponent",void 0),h([n.Input(),f("design:type",Object)],t.prototype,"data",void 0),h([n.Output(),f("design:type",n.EventEmitter)],t.prototype,"callFunction",void 0),t=h([n.Component({selector:"ngx-design-table",template:'<div class="table-wrapper">\n  <div class="row" style="height: 84px;background: transparent!important;">\n    <div class=" elevation-z1">\n      <div class="col-lg-12 search-container">\n        <input class="search-box" type="text" placeholder="Recherche" [maxLength]="100"\n               (input)="((($event.target.value.length > 1 || $event.target.value.length === 0)\n                        && $event.target.value.length < 200)\n                                       ? data.filter($event) : null)"\n               #filterOngoing>\n        <a class="close-search" *ngIf="filterOngoing.value"\n           [matTooltip]="\'Annuler la recherche\'"\n           (click)="reset() && filterOngoing.value = \'\'">\n          <img [src]="\'/assets/icons/search_off-24px.svg\'">\n        </a>\n      </div>\n    </div>\n  </div>\n  \x3c!-- Table --\x3e\n  <table mat-table #table="matSort"\n         [dataSource]="data " multiTemplateDataRows matSort\n         class="mat-elevation-z8" *ngIf="displayedColumns && columnsToDisplay && data && data.totalElements"\n         (matSortChange)="data.sortIt($event)">\n    <ng-container matColumnDef="{{column.key}}" *ngFor="let column of displayedColumns">\n      <ng-container *ngIf="column.sort">\n        <th mat-header-cell *matHeaderCellDef\n            [class]="generateClass([column.class, column.align ? \'text-align-\'+column.align : \'text-align-left\'])"\n            mat-sort-header>\n          <app-is-mat-icon [input]="column.value"></app-is-mat-icon>\n        </th>\n      </ng-container>\n      <ng-container *ngIf="!column.sort">\n        \x3c!-- Ajouter fonction generate Class --\x3e\n        <th mat-header-cell *matHeaderCellDef\n            [class]="generateClass([column.class, column.align ? \'text-align-\'+column.align : \'text-align-left\'])">\n          <app-is-mat-icon [input]="column.value"></app-is-mat-icon>\n        </th>\n      </ng-container>\n      <td mat-cell *matCellDef="let element"\n          [class]="generateClass([column.class, column.align ? \'text-align-\'+column.align : \'\'])">\n        <ng-container [ngSwitch]="column.module">\n          \x3c!-- Button click --\x3e\n          <ng-container *ngSwitchCase="\'button-click\'">\n            <a matTooltip="Ouvrir"\n               class="mat-button nowboard-btn btn-xs"\n               (click)="callFunction.emit(element[column.key])">\n              <ng-container *ngIf="column.display">\n                <app-is-mat-icon [input]="column.display"></app-is-mat-icon>\n              </ng-container>\n              <ng-container *ngIf="!column.display">\n                {{element[column.key]}}\n              </ng-container>\n            </a>\n          </ng-container>\n          \x3c!-- Button link --\x3e\n          <ng-container *ngSwitchCase="\'button-link\'">\n            <a *ngIf="element.new" matTooltip="Ouvrir"\n               class="mat-button nowboard-btn btn-xs"\n               (click)="element.new = false"\n               routerLink="{{column.override ? buildLink(column.override, element) : element[column.key]}}"\n               matBadge="*" matBadgePosition="before"\n               matBadgeColor="accent">\n              <ng-container *ngIf="column.display">\n                <app-is-mat-icon [input]="column.display"></app-is-mat-icon>\n              </ng-container>\n              <ng-container *ngIf="!column.display">\n                {{element[column.key]}}\n              </ng-container>\n            </a>\n            <a *ngIf="!element.new"\n               matTooltip="Ouvrir"\n               class="mat-button nowboard-btn btn-xs"\n               routerLink="{{column.override ? buildLink(column.override, element) : element[column.key]}}">\n              <ng-container *ngIf="column.display">\n                <app-is-mat-icon class="is-mat-icon-cell" [input]="column.display"></app-is-mat-icon>\n              </ng-container>\n              <ng-container *ngIf="!column.display">\n                {{element[column.key]}}\n              </ng-container>\n            </a>\n          </ng-container>\n          <ng-container *ngSwitchCase="\'it-category\'">\n            <app-equipement-type [name]="element[column.key]" [type]="element[column.override]"></app-equipement-type>\n          </ng-container>\n          \x3c!-- icon it status --\x3e\n          <ng-container *ngSwitchCase="\'it-status\'">\n            <app-equipement-status [type]="element[column.key]"></app-equipement-status>\n          </ng-container>\n          \x3c!-- icon customer rank --\x3e\n          <ng-container *ngSwitchCase="\'customer-rank\'">\n            <app-customer-rank [type]="element[column.key]"></app-customer-rank>\n          </ng-container>\n          \x3c!-- icon priority--\x3e\n          <ng-container *ngSwitchCase="\'priority\'">\n            <icon-priority [icon]="element[column.key]"></icon-priority>\n          </ng-container>\n          \x3c!-- icon gender avatar--\x3e\n          <ng-container *ngSwitchCase="\'gender-avatar\'">\n            <app-gender [type]="element[column.key]"></app-gender>\n          </ng-container>\n\n          \x3c!-- icon gender avatar--\x3e\n          <ng-container *ngSwitchCase="\'phone-display\'">\n            <app-phone-display [number]="element[column.key]"></app-phone-display>\n          </ng-container>\n\n          \x3c!-- icon gender avatar--\x3e\n          <ng-container *ngSwitchCase="\'yes-no-display\'">\n            <app-yes-nox\n              *ngIf="column.config && (column.config.displayNo !== undefined && column.config.displayYes !== undefined)"\n              [valid]="element[column.key]" [size]="column.config?.sizeIcon"\n              [displayNo]="column.config.displayYes" [displayYes]="column.config.displayNo"\n            >\n            </app-yes-nox>\n            <app-yes-nox\n              *ngIf="(!column.config || (column.config && !(column.config.displayNo || column.config.displayYes)))"\n              [valid]="element[column.key]" [size]="column.config?.sizeIcon">\n            </app-yes-nox>\n          </ng-container>\n          \x3c!-- icon origin--\x3e\n          <ng-container *ngSwitchCase="\'origin\'">\n            <icon-origin [icon]="element[column.key]"></icon-origin>\n          </ng-container>\n          \x3c!-- icon name avatar--\x3e\n          <ng-container *ngSwitchCase="\'name-avatar\'">\n            <name-avatar matTooltip="{{Join(element, column.override)}}"\n                         [src]="element[column.key]"\n                         [matTooltipClass]="\'my-tooltip\'">\n            </name-avatar>\n          </ng-container>\n          \x3c!-- date format --\x3e\n          <ng-container *ngSwitchCase="\'date-format\'">\n            <date-format style="padding-right: 10px" [date]="element[column.key]"></date-format>\n          </ng-container>\n          \x3c!-- count rows --\x3e\n          <ng-container *ngSwitchCase="\'count-row\'">\n                       <span style="padding-left: 14px">\n                           {{(element[column.key] && element[column.key].length ? element[column.key].length : \'-\')}}\n                       </span>\n          </ng-container>\n          <ng-container *ngSwitchDefault>\n            {{element[column.key]}}\n          </ng-container>\n        </ng-container>\n\n      </td>\n    </ng-container>\n    <ng-container matColumnDef="expandedDetailX" *ngIf="displayDetail">\n      <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length"\n          [@detailExpand]="element == expandedElement ? \'expanded\' : \'collapsed\'"\n          style="border-bottom:transparent!important;height: 0">\n        <div class="element-detail" [innerHTML]="element.expanded">\n        </div>\n      </td>\n    </ng-container>\n    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>\n    <ng-container *ngIf="displayDetail">\n      <tr mat-row *matRowDef="let element; columns: columnsToDisplay;"\n          class="element-row"\n          [class.expanded]="expandedElement == element"\n          (click)="expandedElement === element? expandedElement = null : expandedElement = element">\n      </tr>\n      <tr mat-row *matRowDef="let row; columns: [\'expandedDetailX\']" class="detail-row">\n\n      </tr>\n    </ng-container>\n    <ng-container *ngIf="!displayDetail">\n      <tr mat-row *matRowDef="let element; columns: columnsToDisplay;"\n          class="element-row">\n      </tr>\n    </ng-container>\n  </table>\n  <ng-container *ngIf="data && data.totalElements === 0">\n    <div class="row" style="height: 84px;background: transparent!important;">\n      <div class="">\n        <div class="col-lg-12 search-container" style="text-align: center">\n          Aucun résultat correspondant\n        </div>\n      </div>\n    </div>\n  </ng-container>\n  <mat-paginator #MatPaginatorCurrent *ngIf="data && data.totalElements > 0" [length]="data.totalElements"\n                 [pageSize]="data.size" [pageIndex]="data.number" [hidePageSize]="true"\n                 (page)="data.fetch($event.pageIndex)" showFirstLastButtons></mat-paginator>\n</div>\n',animations:[l.trigger("detailExpand",[l.state("collapsed",l.style({height:"0px",minHeight:"0",display:"none"})),l.state("expanded",l.style({height:"*"})),l.transition("expanded <=> collapsed",l.animate("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])],encapsulation:n.ViewEncapsulation.None,styles:[".table-wrapper table{width:100%}.table-wrapper .mat-cell{padding-left:10px}.table-wrapper png-icon{padding-left:17px}.table-wrapper tr:nth-child(1){min-height:48px}.table-wrapper .detail-row{height:auto!important}.table-wrapper tr.element-row:not(.expanded-row):hover{background:#f5f5f5}.table-wrapper tr.element-row:not(.expanded-row):active{background:#efefef}.table-wrapper .element-row .mat-cell{padding-right:5px}.table-wrapper .text-align-right{text-align:right!important}.table-wrapper .text-align-left{text-align:left!important}.table-wrapper .text-align-center{text-align:center!important}.table-wrapper .element-detail{overflow:hidden;display:flex;padding-top:10px;padding-bottom:10px}@media screen and (min-width:1441px){.table-wrapper .mat-cell{padding-top:15px;padding-bottom:10px;font-size:13px!important}}.table-wrapper .u-1{width:4%!important;max-width:4%!important;min-width:4%!important}.table-wrapper .u-2{width:5%!important;max-width:5%!important;min-width:5%!important}.table-wrapper .u-3{width:7%!important;max-width:7%!important;min-width:7%!important}@media screen and (max-width:1440px){.table-wrapper a.mat-button{padding-top:10px}.table-wrapper .mat-cell{padding-top:15px;padding-bottom:10px;font-size:11px!important}.table-wrapper .u-1{width:5%!important;max-width:5%!important;min-width:5%!important}.table-wrapper .u-2{width:6%!important;max-width:6%!important;min-width:6%!important}.table-wrapper .u-3{width:10%!important;max-width:10%!important;min-width:10%!important}}.table-wrapper .u-4{max-width:11%!important;width:11%!important;min-width:11%!important}.table-wrapper .u-5{max-width:10%!important;width:10%!important;min-width:10%!important}.table-wrapper .u-6{max-width:15%!important;width:15%!important;min-width:15%!important}.table-wrapper .u-7{width:20%!important;min-width:20%!important}.table-wrapper .u-8{width:25%!important;min-width:25%!important}.table-wrapper .u-9{width:30%!important;min-width:30%!important}.is-mat-icon-cell{width:auto;height:auto;display:auto}.is-mat-icon-cell .mat-icon{font-size:14px}.is-mat-icon-cell span,app-is-mat-icon span{margin:auto}"]}),f("design:paramtypes",[p.Router,p.ActivatedRoute])],t)}(),A=function(){function t(t){if(t)throw new Error("TableModule is already loaded. Import it in the AppModule only")}var o;return o=t,t.forRoot=function(t){return{ngModule:o,providers:[{provide:"__NgxDesignTable__",useValue:t},I]}},t.ctorParameters=function(){return[{type:t,decorators:[{type:n.Optional},{type:n.SkipSelf}]}]},t=o=h([n.NgModule({declarations:[N,S,k,z,D,O,E,M,T,_,j,L],imports:[P,a.MatPaginatorModule,c.MatTableModule,i.MatSortModule,u.MatTooltipModule,e.CommonModule,d.MatIconModule,p.RouterModule,g.MatBadgeModule],exports:[N,S,k,z,D,O,E,M,T,_,j,L,P,a.MatPaginatorModule,c.MatTableModule,i.MatSortModule,u.MatTooltipModule,e.CommonModule,d.MatIconModule,p.RouterModule,g.MatBadgeModule]}),y(0,n.Optional()),y(0,n.SkipSelf()),f("design:paramtypes",[t])],t)}();t.CoreMatTable=q,t.CustomerRankComponent=S,t.DateFormatComponent=k,t.EquipementStatusComponent=z,t.EquipementTypeComponent=D,t.GenderComponent=O,t.IsMatIconComponent=E,t.NameAvatarComponent=M,t.OriginComponent=T,t.PhoneDisplayComponent=_,t.PngIconComponent=R,t.PngIconModule=P,t.PriorityComponent=j,t.TableComponent=N,t.TableModule=A,t.TableService=I,t.YesNoComponent=L,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=table.umd.min.js.map